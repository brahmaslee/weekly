# 业界会议


[**WWDC 2017**](https://developer.apple.com/wwdc/)
* [一张图带你全程回顾苹果WWDC 2017大会](http://www.techweb.com.cn/it/2017-06-06/2531695.shtml)



# 文章阅读


[**从淘宝到上云的差异**](http://china-r.org/bj2017/)
* 典型的高并发浏览系统
   * 每秒20W次的Web请求
      * 对应后端请求量每秒400W次
      * 缓存、DB，分布式远程调用
   * 在性能、稳定性、UE之间平衡
* 浏览系统的基础链路
   * User->CDN->LoadBalance->container->cache->DB
* 缓存前置
   * 富客户端
   * 节约应用服务器
* 为容灾设计的部署架构（对缓存）
   * 简化为双机房模型
   * 双机房共享集群
   * 双机房独立集群
   * 失效的实现区别
* 当流量超出你的掌控时，怎么办？
   * 限流
   * 降级
* 容灾设计
   * 一切都可能挂，特别是新引入的依赖：如何降级
   * 发布计划
   * 特别关注的问题
      * 是否有数据迁移
      * 是否有对账，如何保证一致性
      * 发布顺序是否有依赖
      * 是否需要停机
      * 如何回滚
      * 是否需要挂牌公告通知外部用户
* 面向弹性的设计
   * 资源是容易获得的
   * 能用加机器解决问题其实很厉害
   * 丰富多样的资源
      * 虚拟机
      * 对象存储
      * 负载均衡
      * 数据库（读写分离）
      * 消息队列
      * 分布式缓存
   * 容器化
   * VM挂掉应被当做“常态”
   * 针对不同云服务的不同容灾策略
      * 大原则：切、切、切
      * LB挂掉的处理
      * VM挂掉的处理
* 弹性是万能的吗？
   * Auto Scaling不是银弹
   * 容量规划仍然有必要性
   * 弹性的开销
   * 弹性的SLA
   * 弹性+限流=组合拳


[**亿级金融业务架构演进***](http://china-r.org/bj2017/)
* 花呗是怎么样的产品?
   * 花呗活跃用户8成以上是8090后
   * 三四线城市用户在购买数码商品时，更青睐花呗
* 架构
   * 部署架构：单机房部署
   * 应用架构：从上到下分为产品，核心，账单，账务4个系统
   * 调用链路：几乎所有的业务（支付，确认收货，还款，账单查询）都需要经过4个系统完成
      * 产品系统
      * 核心系统
      * 账单系统
      * 账务系统
* 挑战
   * 数千万用户的定时业务在简单粗暴的执行方式下，常常难以控制并发和出现名单遗漏等质量问题
   * 系统处理链路很长，整体性能不高，任何一点系统抖动，都会影响这个业务的稳定性
   * 单机房部署出现业务瓶颈，从日益增长的用户规模，带来存储和应用部署瓶颈
   * 稳定性考虑，如果遇到机房级别故障，就会影响所有用户，这个也是不可接受的
* 应对
   * 数据拆分
   * 业务抽象
   * 架构解耦
* 容灾
   * 核心难点：如何保证网络重试等场景，重复请求的幂等问题
   * 缺点：多库读取，回迁成本
* 分布式调度
   * 业务特点：花呗有许多基于固定时间点的业务，这些业务处理数据量大，而且不允许失败，耗时长，逻辑复杂
   * 面临的问题
      * 并发压力大&难以度量: 下游系统压力大，银行通道不同时间段压力不同，同时无法很好度量多少并发是极限性能
      * 批量失败: 涉及用户量大，在整个链路中一旦有抖动，就会有批量失败
      * 质量隐忧: 涉及都是对客业务，短信，扣款，处理数据量大，一旦出现问题影响面非常大
      * 名单遗漏: 数据库抖动导致名单获取遗漏
   * 优化后的架构
      * 任务持久化：解决执行任务失败或者机器重启任务丢失问题
      * 任务解耦：将生成任务名单和执行任务变成两个调度，一个调度只做生成任务，一个任务只做执行任务。当任务生成失败，会重试
      * 灰度&并发组件：自动决策是否灰度，分时间段控制并发度
*  并发控制
   * 基于时间维度控制
   * 基于流量，失败量，处理时间控制
   * 白名单：配置中心配置白名单
   * 根据当前时间执行决策白名单是否激活
* 任务切片策略
   * 基于在线机器数
   * 基于集群并发数
   * 数据加载层逻辑
   * 获取集群并发数和机器数
   * 负责计算任务数据量
   * 执行切片
   * 分发到执行层


# 业界特快


[**被忽视的攻击面：Python package 钓鱼**](http://paper.seebug.org/326/?from=timeline&isappinstalled=0)
* 该文章讲述了作者在 PyPI 上投放恶意的 Python 包钓鱼的过程


[**2017互联网趋势报告**](http://www.kpcb.com/internet-trends)
* 手机并没有吞噬PC的使用时间，而是吞噬了人们的闲暇时间
 

[**V8 Release 6.0**](https://v8project.blogspot.jp/2017/06/v8-release-60.html)
