# 业界会议

[**第十届中国R会议**](http://china-r.org/bj2017/)
* 时间：2017年5月19-21日，地点：北京
* 主题：AI，金融，城市数据，人文数据，医学，统计


# 文章阅读

[**360病毒样本大规模异构实时扫描平台**](http://2017.qconbeijing.com/schedule)
* 业务背景
   * 系统能够做到实时的流式处理
      * 第一时间对木马病毒样本进行鉴定，并给予有效处理
   * 进行高吞吐量的回归扫描
      * 要在算法更新特征库升级的情况下对历史样本进行高吞吐量的回归扫描
* V1版本
   * 业务指标：60秒出鉴定结果
   * 解决方案：基于内存方式减少磁盘IO，扫描模块串行改为并行
   * 引入相关技术：分布式队列Gearman
* V2版本
   * 队列阻塞具有传递性，任何一款扫描模块故障都会导致系统崩溃
   * 业务指标：提高可靠的保证
   * 问题：
      * 单款扫描器故障导致系统无法工作
      * 扫描器越多整体故障率越高
      * 运维成本高
   * 需求分析：
      * 跨平台支持
      * 需要多语言
      * 需要现成的网络通信模块
      * 计算节点可扩展并且支持负载均衡调节
      * 故障情况下可以降级服务
      * 单样本扫描的业务可靠性要求不高
      * 低优先级的任务不要求时效性
      * 尽量用满所有计算资源
      * 运维操作尽量简洁
   * 实现
      * Monitor
         * mysql做配置持久化存储
         * 心跳检查，以及负载数据，用内存临时存储
         * thrift网络RPC
      * Dispacher
         * 优先级队列
         * unit调度时候对空闲资源采取轮询策略


[**打造高性能高可用搜索架构**](http://2017.qconbeijing.com/schedule)
* 爱奇艺搜索概况
   * 亿级别的搜索量和索引量
   * 平均一个搜索请求有12次rpc调用，最多有44次rpc调用
   * 平均搜索时长20ms
* 视频搜索难点和痛点
   * 索引量大
   * 低延迟
   * 高并发 
   * 索引更新速度快
* 应对网络抖动
   * 优先访问本机redis
* 索引分级
   * 热门doc可以服务80%的请求
* 索引更新
   * 全量数据7天更新
   * 增量leaf所需数据每天更新，数据量逐渐变大，直至下一次全量数据
   *  全量数据的filter（需要过滤的doc）每天更新一次，包含全量数据生成好后有过更新的所有doc，这部分数据由增量leaf召回
* 实时更新
   * 支持消息级别的更新
   * 更新可追踪
* 同步到异步
   * 团队内部开发的异步http框架libnet,基于libev
   * 团队内部开发的pbrpc异步框架，基于libev和google protocol buffers
* 基于CPU的优化
   * 改变数据结构
   * 线程绑定CPU
* 基于memory的优化
   * 倒排压缩
   * 正排压缩
   * 正排数据放磁盘
* 降级
   * LIFO：保证新任务得以处理，旧任务丢弃
   * 缩短队列任务过期时间
* 限流——动态修改限流阈值
   * server的成功率
   * server的响应时间
   * task的平均处理时间
   * 队列长度
   * 本进程所消耗的CPU
* 扩容
* 监控系统
* trace系统


# 业界特快


[**Chrome 浏览器宣布，从明年开始，将自动屏蔽恶性广告**](https://blog.chromium.org/2017/06/improving-advertising-on-web.html?m=1)
* 恶性广告:比如全窗口的广告浮层、自动播放声音的广告


[**Node v8.1.0**](https://nodejs.org/en/blog/release/v8.1.0/)
* 一些fix


[**npm库下载量查询**](http://npmcharts.com/)
* 可以看到大家用的最多的库



[**StackOverflow创始人关于如何高效编程的清单**](https://mp.weixin.qq.com/s?__biz=MzA5Nzc4OTA1Mw==&mid=2659599322&idx=1&sn=0f201ceb0d650637384bdd2aea95bb84)
* 接受自己会犯错的事实
* 不要使用代码来针对个人
* 不管你知道多少“秘籍”
* 不要不经讨论地重写代码
* 尊重比你懂得少的人
* 这个世界唯一不变的就是变化
* 真正的权威来自于知识，而不是职位
* 不要成为“小黑屋里的人”
* 出他们的视野，失去控制
* 批评代码，而不是人

